type env struct {
    m dict
    outer dict
}

var globalenv env

func init() {
    globalenv = env.new(nil)
    // TODO env.m is nil, so first insert doesnt work
    //m := globalenv.m
    //m.insert("pi", 3) // no floats!
    var m dict
    m = dict.new("pi", 3, nil, nil)
    globalenv.m = m
    return
}

func new(outer dict) env {
    e := env{}
    e.m = nil
    e.outer = outer
    return e
}

func global() env {
    return globalenv
}
